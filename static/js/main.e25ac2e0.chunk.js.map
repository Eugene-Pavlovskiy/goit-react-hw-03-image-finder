{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageInfo/ImageInfo.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleQuerySubmit","preventDefault","trim","toast","error","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","placeholder","Component","ImageGallery","showModal","photo","map","id","tags","webformatURL","largeImageURL","ImageGalleryItem","datalarge","onClick","onImgClick","ImageGalleryItemImage","src","alt","Button","BtnLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","console","log","window","addEventListener","removeEventListener","createPortal","Ovrlay","modalUrl","KEY","Status","ImageInfo","reject","status","page","loadMore","fetch","then","respons","json","newPhoto","hits","catch","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","onGalleryCardClick","url","getAttribute","prevProps","prevState","length","App","handleFormSubmit","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e25ac2e0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__17FjM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BtnLoadMore\":\"Button_BtnLoadMore__f4TLQ\"};","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css'\n\nexport default class Searchbar extends Component {\n    static propTypes = {\n        onSubmit: PropTypes.func,\n    };\n    state = {\n        query: '',\n    };\n    handleQueryChange = event => {\n    this.setState({ query: event.currentTarget.value.toLowerCase() });\n    };\n    handleQuerySubmit = event => {\n        event.preventDefault();\n        if (this.state.query.trim() === '') {\n            return toast.error('Please enter a search term to begin');\n            \n        }\n\n        this.props.onSubmit(this.state.query);\n        this.setState({ query: '' });\n    };\n    \n    \n    render() {\n        return(\n            <header className={s.Searchbar}>\n            <form className={s.SearchForm} onSubmit={this.handleQuerySubmit}>\n                <button type=\"submit\" className={s.SearchFormButton}>\n                        <span className={s.SearchFormButtonLabel}>Search</span>\n                </button>\n\n                <input\n                    className={s.SearchFormInput}\n                    type=\"text\"\n                    value={this.state.query}\n                    onChange={this.handleQueryChange}\n                    placeholder=\"Search images and photos\"\n                />\n            </form>\n        </header>\n        );\n    }\n}","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nexport default class ImageGallery extends Component {\n  static propTypes = {\n    id: PropTypes.string,\n    tags: PropTypes.string,\n    webformatURL: PropTypes.string,\n    largeImageURL: PropTypes.string,\n    onImgClick: PropTypes.func,\n  };\n  state = {\n    showModal: false,\n  };\n\n    render() {\n        return (\n        <>\n            <ul className={s.ImageGallery}>\n            {this.props.photo.map(({ id, tags, webformatURL, largeImageURL }) => (\n                <li\n                className={s.ImageGalleryItem}\n                key={id}\n                datalarge={largeImageURL}\n                onClick={this.props.onImgClick}\n                >\n                <img\n                    className={s.ImageGalleryItemImage} \n                    src={webformatURL}\n                    alt={tags}\n                />\n                </li>\n            ))}\n            </ul>\n        </>\n        );\n    }\n}\n\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className={s.BtnLoadMore} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\nimport PropTypes from 'prop-types';\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  static propTypes = {\n    modalUrl: PropTypes.string,\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      console.log('backdrop', e.target);\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Ovrlay}>\n        <div className={s.Modal} onClick={this.handleBackdropClick}>\n          <img\n            src={this.props.modalUrl}\n            onClick={this.handleBackdropClick}\n            alt={this.props.tags}\n          />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}","import React, { Component } from \"react\";\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nconst KEY = '23526711-d54635d6fd3abb803255ed000';\nconst Status = {\n    IDLE: 'idle',\n    PENDING: 'pending',\n    RESOLVED: 'resolved',\n    REJECTED: 'rejected',\n}\n\nexport default class ImageInfo extends Component {\n    state = {\n        reject: 0,\n        photo: [],\n        error: null,\n        status: Status.IDLE,\n        page: 1,\n        showModal: false,\n        modalUrl: '',\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.query !== this.props.query) {\n            this.setState({ status: Status.PENDING });\n            fetch(\n                `https://pixabay.com/api/?q=${this.props.query}&page=${this.state.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n            )\n            .then(respons => {\n                return respons.json();\n                })\n                .then(photo =>\n                this.setState({\n                    photo: [...photo.hits],\n                    page: this.state.page + 1,\n\n                    status: Status.RESOLVED,\n                }),\n                )\n                .catch(error => this.setState({ error, status: Status.REJECTED }));\n        }\n    }\n    loadMore = () => {\n        fetch(\n                `https://pixabay.com/api/?q=${this.props.query}&page=${this.state.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n        )\n        .then(respons => {\n        return respons.json();\n        })\n        .then(newPhoto =>\n            this.setState(({ photo }) => {\n            return {\n                photo: [...photo, ...newPhoto.hits],\n                page: this.state.page + 1,\n\n                status: Status.RESOLVED,\n            };\n            }),\n        )\n        .catch(error => this.setState({ error, status: Status.REJECTED }));\n        window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n        });\n    };\n\n    toggleModal = modalUrl => {\n        this.setState(({ showModal }) => ({\n        showModal: !showModal,\n        modalUrl: modalUrl,\n        }));\n    };\n    onGalleryCardClick = e => {\n        const url = e.currentTarget.getAttribute('datalarge');\n        this.toggleModal(url);\n    };\n    render() {\n        const { photo, status } = this.state;\n\n        if (status === 'idle') {\n            return <div>Please enter your search </div>;\n        }\n        if (status === 'pending') {\n            return <div>loading...</div>;\n        }\n\n        if (photo.length === 0) {\n            return (\n                <div>Sorry we nothing found for you</div>\n            );\n        }\n        if (status === 'resolved') {\n            return (\n                <>\n                    {this.state.showModal && (\n                        <Modal onClose={this.toggleModal} modalUrl={this.state.modalUrl} />\n                    )}\n                    <ImageGallery photo={photo} onImgClick={this.onGalleryCardClick} />\n                    {this.state.photo.length > 10 && <Button onClick={this.loadMore} />}\n                </>\n            );\n        }\n\n    }\n}","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport './App.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PropTypes from 'prop-types';\nimport Searchbar from './components/Searchbar';\nimport ImageInfo from './components/ImageInfo';\n\nexport default class App extends Component {\n  static propTypes = {\n    handleFormSubmit: PropTypes.func,\n  };\n  state = {\n    query: '',\n    page: 1,\n  };\n  handleFormSubmit = query => {\n    this.setState({ query });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageInfo query={this.state.query} />\n        <ToastContainer position=\"top-center\" autoClose={3000} />\n      </div>\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}