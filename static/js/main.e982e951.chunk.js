(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchFormButton:"Searchbar_SearchFormButton__21S85",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__8f9cn",SearchFormInput:"Searchbar_SearchFormInput__VhsfU"}},,function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ",ImageGalleryItem:"ImageGallery_ImageGalleryItem__30xkQ",ImageGalleryItemImage:"ImageGallery_ImageGalleryItemImage__17FjM"}},,,function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},,function(e,t,a){e.exports={BtnLoadMore:"Button_BtnLoadMore__f4TLQ"}},,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(6),c=a.n(o),s=(a(19),a(2)),l=a(3),i=a(5),u=a(4),h=a(8),d=(a(20),a(13),a(7)),p=a.n(d),m=a(1),b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleQueryChange=function(t){e.setState({query:t.currentTarget.value.toLowerCase()})},e.handleQuerySubmit=function(t){if(t.preventDefault(),""===e.state.query.trim())return h.b.error("Please enter a search term to begin");e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(m.jsx)("header",{className:p.a.Searchbar,children:Object(m.jsxs)("form",{className:p.a.SearchForm,onSubmit:this.handleQuerySubmit,children:[Object(m.jsx)("button",{type:"submit",className:p.a.SearchFormButton,children:Object(m.jsx)("span",{className:p.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:p.a.SearchFormInput,type:"text",value:this.state.query,onChange:this.handleQueryChange,placeholder:"Search images and photos"})]})})}}]),a}(r.Component),j=a(10),g=a(9),y=a.n(g),f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={showModal:!1},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{className:y.a.ImageGallery,children:this.props.photo.map((function(t){var a=t.id,r=t.tags,n=t.webformatURL,o=t.largeImageURL;return Object(m.jsx)("li",{className:y.a.ImageGalleryItem,datalarge:o,onClick:e.props.onImgClick,children:Object(m.jsx)("img",{className:y.a.ImageGalleryItemImage,src:n,alt:r})},a)}))})})}}]),a}(r.Component),O=a(14),v=a.n(O);function S(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",className:v.a.BtnLoadMore,onClick:t,children:"Load more"})}var _=a(12),x=a.n(_),k=document.querySelector("#modal-root"),w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&(console.log("backdrop",t.target),e.props.onClose())},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(m.jsx)("div",{className:x.a.Ovrlay,children:Object(m.jsx)("div",{className:x.a.Modal,onClick:this.handleBackdropClick,children:Object(m.jsx)("img",{src:this.props.modalUrl,onClick:this.handleBackdropClick,alt:this.props.tags})})}),k)}}]),a}(r.Component),C="23526711-d54635d6fd3abb803255ed000",I="idle",M="pending",q="resolved",F="rejected",B=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={reject:0,photo:[],error:null,status:I,page:1,showModal:!1,modalUrl:""},e.loadMore=function(){fetch("https://pixabay.com/api/?q=".concat(e.props.query,"&page=").concat(e.state.page,"&key=").concat(C,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(t){return e.setState((function(a){var r=a.photo;return{photo:[].concat(Object(j.a)(r),Object(j.a)(t.hits)),page:e.state.page+1,status:q}}))})).catch((function(t){return e.setState({error:t,status:F})})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.toggleModal=function(t){e.setState((function(e){return{showModal:!e.showModal,modalUrl:t}}))},e.onGalleryCardClick=function(t){var a=t.currentTarget.getAttribute("datalarge");e.toggleModal(a)},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.query!==this.props.query&&(this.setState({status:M}),fetch("https://pixabay.com/api/?q=".concat(this.props.query,"&page=").concat(this.state.page,"&key=").concat(C,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return a.setState({photo:Object(j.a)(e.hits),page:a.state.page+1,status:q})})).catch((function(e){return a.setState({error:e,status:F})})))}},{key:"render",value:function(){var e=this.state,t=e.photo,a=e.status;return"idle"===a?Object(m.jsx)("div",{children:"Please enter your search "}):"pending"===a?Object(m.jsx)("div",{children:"loading..."}):0===t.length?Object(m.jsx)("div",{children:"Sorry we nothing found for you"}):"resolved"===a?Object(m.jsxs)(m.Fragment,{children:[this.state.showModal&&Object(m.jsx)(w,{onClose:this.toggleModal,modalUrl:this.state.modalUrl}),Object(m.jsx)(f,{photo:t,onImgClick:this.onGalleryCardClick}),this.state.photo.length>10&&Object(m.jsx)(S,{onClick:this.loadMore})]}):void 0}}]),a}(r.Component),G=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={query:"",page:1},e.handleFormSubmit=function(t){e.setState({query:t})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(b,{onSubmit:this.handleFormSubmit}),Object(m.jsx)(B,{query:this.state.query}),Object(m.jsx)(h.a,{position:"top-center",autoClose:3e3})]})}}]),a}(r.Component);a(22);c.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(G,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.e982e951.chunk.js.map